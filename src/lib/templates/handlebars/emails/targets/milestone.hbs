{{#base headerTitle="ğŸ¯ Milestone Reached!" headerSubtitle="You're making great progress on your {{targetType}} target"}}

<div class="greeting">
    Hello {{userName}}! ğŸ¯
</div>

<div class="message">
    <p><strong>Excellent progress!</strong> You've reached an important milestone on your {{targetType}} target at {{organizationName}}. Keep up the fantastic work!</p>
</div>

<div class="info-notice">
    <p>ğŸ‰ <strong>{{milestoneName}} Achieved:</strong> You've completed {{milestonePercentage}}% of your {{targetType}} target!</p>
</div>

<div class="info-card">
    <h3>ğŸ“Š Milestone Progress</h3>
    <div class="detail-grid">
        <div class="detail-item">
            <span class="detail-label">Target Type</span>
            <span class="detail-value">{{targetType}}</span>
        </div>
        <div class="detail-item">
            <span class="detail-label">Progress</span>
            <span class="detail-value">{{milestonePercentage}}%</span>
        </div>
        <div class="detail-item">
            <span class="detail-label">Current Achievement</span>
            <span class="detail-value">{{#if (eq targetType "Sales")}}ZAR {{formatNumber currentValue}}{{else}}{{currentValue}}{{/if}}</span>
        </div>
        <div class="detail-item">
            <span class="detail-label">Total Target</span>
            <span class="detail-value">{{#if (eq targetType "Sales")}}ZAR {{formatNumber targetValue}}{{else}}{{targetValue}}{{/if}}</span>
        </div>
        <div class="detail-item">
            <span class="detail-label">Remaining to Target</span>
            <span class="detail-value">{{#if (eq targetType "Sales")}}ZAR {{formatNumber remainingValue}}{{else}}{{remainingValue}}{{/if}}</span>
        </div>
        {{#if branchName}}
        <div class="detail-item">
            <span class="detail-label">Branch</span>
            <span class="detail-value">{{branchName}}</span>
        </div>
        {{/if}}
    </div>
</div>

<div class="info-card">
    <h4>â° Time Remaining</h4>
    <div class="detail-grid">
        <div class="detail-item">
            <span class="detail-label">Period Start</span>
            <span class="detail-value">{{formatDate periodStartDate}}</span>
        </div>
        <div class="detail-item">
            <span class="detail-label">Period End</span>
            <span class="detail-value">{{formatDate periodEndDate}}</span>
        </div>
        <div class="detail-item">
            <span class="detail-label">Days Remaining</span>
            <span class="detail-value" style="font-weight: 700; color: {{#if (gte daysRemaining 15)}}#22c55e{{else if (gte daysRemaining 7)}}#f59e0b{{else}}#ef4444{{/if}};">{{daysRemaining}} days</span>
        </div>
        <div class="detail-item">
            <span class="detail-label">Organization</span>
            <span class="detail-value">{{organizationName}}</span>
        </div>
    </div>
</div>

{{#if encouragementMessage}}
<div class="info-card" style="background: linear-gradient(135deg, #ddd6fe 0%, #c4b5fd 100%); border-left-color: #8b5cf6;">
    <h4 style="color: #6b21a8;">ğŸ’ª Encouragement</h4>
    <p style="font-style: italic; color: #6b21a8;">{{encouragementMessage}}</p>
</div>
{{/if}}

<div class="cta-section">
    <a href="{{dashboardUrl}}" class="cta-button">Track Your Progress</a>
</div>

{{#if mobileAppInfo}}
<div class="info-card" style="background: linear-gradient(135deg, #f3e8ff 0%, #e9d5ff 100%); border-left-color: #a855f7;">
    <h4>ğŸ“± Mobile Progress Tracking</h4>
    <p style="margin: 0; color: #6b21a8; font-size: 14px;">
        <strong>ğŸ“ˆ Real-Time Updates:</strong> Monitor your milestone progress and receive instant notifications about target achievements directly on your mobile device using {{mobileAppInfo.appName}}.
    </p>
    <div style="margin-top: 12px; padding: 8px; background: rgba(255,255,255,0.8); border-radius: 6px;">
        <p style="margin: 0; font-size: 13px; color: #6b21a8;">
            ğŸ“± <strong>Mobile Features:</strong>
            {{#each mobileAppInfo.features}}
            â€¢ {{this}}<br>
            {{/each}}
        </p>
    </div>
    <div style="margin-top: 12px; text-align: center;">
        <a href="{{mobileAppInfo.appStoreUrl}}" style="background: #a855f7; color: white; padding: 8px 16px; text-decoration: none; border-radius: 20px; font-size: 12px; margin-right: 8px;">ğŸ“± iOS App</a>
        <a href="{{mobileAppInfo.googlePlayUrl}}" style="background: #a855f7; color: white; padding: 8px 16px; text-decoration: none; border-radius: 20px; font-size: 12px;">ğŸ¤– Android App</a>
    </div>
</div>
{{/if}}

<div class="info-card">
    <h4>ğŸš€ Momentum Builders</h4>
    <ul class="feature-list">
        <li>ğŸ“ˆ You're {{milestonePercentage}}% of the way to your target - great momentum!</li>
        <li>â±ï¸ With {{daysRemaining}} days remaining, you're well-positioned for success</li>
        <li>ğŸ¯ Each step forward brings you closer to achieving your full target</li>
        <li>ğŸ’ª Your consistent effort is paying off with measurable results</li>
        <li>ğŸŒŸ This milestone demonstrates your capability and commitment</li>
    </ul>
</div>

<div class="info-card">
    <h4>ğŸ“‹ Next Steps to Success</h4>
    <ol class="numbered-list">
        <li><strong>Maintain Pace:</strong> Keep up your current performance level</li>
        <li><strong>Focus Areas:</strong> Identify opportunities to accelerate progress</li>
        <li><strong>Resources:</strong> Utilize available tools and support systems</li>
        <li><strong>Team Support:</strong> Collaborate with colleagues for mutual success</li>
        <li><strong>Stay Motivated:</strong> Remember that you're on track for achievement</li>
    </ol>
</div>

<div class="info-card">
    <h4>ğŸ† Progress Visualization</h4>
    <div style="background: #f3f4f6; padding: 16px; border-radius: 8px; margin: 16px 0;">
        <div style="background: #e5e7eb; height: 24px; border-radius: 12px; position: relative; overflow: hidden;">
            <div style="background: linear-gradient(90deg, #22c55e 0%, #16a34a 100%); height: 100%; width: {{milestonePercentage}}%; border-radius: 12px; transition: width 0.3s ease;"></div>
            <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-weight: 600; font-size: 14px; color: #1f2937;">{{milestonePercentage}}%</div>
        </div>
        <div style="display: flex; justify-content: space-between; margin-top: 8px; font-size: 12px; color: #6b7280;">
            <span>0%</span>
            <span style="font-weight: 600; color: #1f2937;">{{milestoneName}}</span>
            <span>100%</span>
        </div>
    </div>
</div>

<div class="message">
    <p>Your progress shows dedication and consistency. The finish line is within reach, and we believe in your ability to achieve your full target!</p>
    
    <p>Keep pushing forward - your success is our success!</p>
</div>

<div class="contact-info">
    <p>Dashboard: <a href="{{dashboardUrl}}">{{dashboardUrl}}</a></p>
    <p>Keep up the great work,<br>The {{organizationName}} Team ğŸ¯</p>
</div>

{{/base}} 